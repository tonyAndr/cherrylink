=== CherryLink ===
Tags: seo, links
Requires at least: 4.7
Tested up to: 5.4
Stable tag: 1.6.7
Requires PHP: 5.6.38
License: GPLv2 or later
License URI: https://www.gnu.org/licenses/gpl-2.0.html

CherryLink - плагин для ручной перелинковки статей в WordPress. Простая и качественная перелинковка стала проще и быстрее.

== Description ==

Плагин для упрощения ручной внутренней перелинковки прямо в редакторе статьи. Вставка ссылки в 1 клик, список релевантных статей, подсказки анкоров и статистика входящих/исходящих ссылок.

Некоторые фичи:
* Показывает ссылки релевантные тексту — гибкие настройки алгоритма, стоп-слова, фильтры (по категории, дате и многому другому);
* Вставка ссылки вокруг выделенного текста в 1 клик;
* Находит в тексте подходящие анкоры;
* Статистика ссылок, навигация по уже вставленным в тексте;
* Работает в режиме HTML и RichText в классическом редакторе и в новом Gutenberg;
* Автоматическая перелинковка с помощью блока «Похожих статей» (при этом ссылки, которые есть в тексте, не повторяются);
* Быстрый фильтр для поиска нужной ссылки по ключевому слову, наличию в тексте, категории;
* Работает при редактировании стандартных записей, страниц, произвольных типов записей;
* Экспорт перелинковки в файл CSV;
* При удалении плагина перелинковка не пропадет.

    **CherryLink работает с классическим редактором (TinyMCE) и Gutenberg. Различные интерактивные PageBuilder’ы не поддерживаются и не будут.**


Здесь оставлю важные ссылки:

1. Страница плагина [CherryLink](https://seocherry.ru/dev/cherrylink/ "Тут можно приобрести ключ")
2. Инструкция по установке [Установка](https://seocherry.ru/dev/install-cherrylink/ "Если возникнут сложности")
3. Подробный мануал по использованию [Руководство](https://seocherry.ru/dev/cherrylink-manual/ "Есть ответы на многие вопросы")
4. Справка о переносе лицензии [Перенос лицензии](https://seocherry.ru/perenos-licenzii-cherrylink-i-vozvrat-deneg/ "Политика переноса ключа и возврата средств")

Чат в телеграме [Техподдержка](https://t.me/seovishnya "Обсуждение работы плагинов") и мой контакт [Антон](https://t.me/anton_seocherry "Телега")

== Installation ==

Установка описана в статье по ссылке: https://seocherry.ru/dev/install-cherrylink/

Кратко:

1. Залейте файлы плагина в  `/wp-content/plugins/cherrylink` на вашем хостинге, или установить прямо из админки WP.
2. Активируйте на странице плагинов в админке WP
3. Перейдите в Настройки->CherryLink для изменения опций плагина
4. Чтобы активировать лицензионный ключ, зайдите в раздел "Разное"

== Frequently Asked Questions ==

= Есть ли поддержка Gutenberg? =

Да

= Не находит релевантные статьи, что делать? =

Проверьте настройки фильтрации плагина, затем сделайте реиндексацию (Индекс ссылок - Пересоздать индекс). Если не поможет - обратитесь к разработчику.

= Активация плагина после установки занимает много времени, почему? =

При первой активации плагин сканирует все записи на сайте и создает таблицу в БД, где хранятся все данные, необходимые для подбора релевантных ссылок.

== ChangeLog ==

= 2.0.1 =
* В сайдбар в настройках плагина добавлена ссылка на справку о переносе лицензии [Перенос лицензии](https://seocherry.ru/perenos-licenzii-cherrylink-i-vozvrat-deneg/ "Политика переноса ключа и возврата средств")
* Обзор изменений в версии 2.0 доступен тут [Обзор обновления 2.0](https://seocherry.ru/dev/cherrylink-2-0-perelinkovka-gutenberg/ "Привет, Гутенберг!")
* Мелкие правки

= 2.0.0 =
* Добавлена поддержка Gutenberg (отдельная реализация написанная с нуля на react)
* Плагин CRB интегрирован в основной, старый плагин CherryLink Related block можно безболезненно удалить, он больше не поддерживается
* Теперь блок ссылок позволяет менять анкоры, задать произвольный текст вместо стандартных title/h1
* Добавлены колонки с количеством входящих/исходящих ссылок в списке записей (как у йоаста)
* Поправлен импорт настроек (после импорта могли перестать отображаться ссылки в панели перелинковки)
* Исправлено много ошибок (...и наверняка появились новые:))

= 1.6.20 = 
* DEV ONLY
* Множество изменений для панели в гутенберге
* Версия до слияния с гутенбергом и CRB

= 1.6.19 =
* Частичный рефакторинг кода
* Индекс ссылок не создается атоматически при установке плагина, если на сайте больше 200 статей, плагин активируется сразу
* Реиндексация объединена с созданием схемы перелинковки
* Реиндексация оптимизирована, показывается текущий прогресс
* UI настроек плагина слегка переделан, опции из вкладки с экспортом статистики переехали в Индекс ссылок
* Экпорт статистики теперь можно делать как для исходящих, так и для входящих ссылок 

= 1.6.18 =
* Оптимизация запросов к БД в редакторе статьи
* Поправлено удаление меток
* Убрана заглушка в Gutenberg редакторе - его поддержка будет реализована отдельным плагином
* Оптимизация кода для создания CSV файла со статистикой перелинковки (+ отображение прогресса)
* Багфиксы (тег {imagesrc}, стоп-слова, js ошибки, прочие мелочи)

= 1.6.17 =
* Дополнительные правки для последних двух апдейтов

= 1.6.16 =
* Фикс размеров миниатюр для аддона CRB

= 1.6.15 =
* Фикс длины анонса

= 1.6.14 =
* Фикс быстрого фильра категорий

= 1.6.13 =
* Из-за проблем с доступом к CDN unpkg.com некоторые скрипты теперь идут в комплекте с плагином, что положительно скажется на скорости загрузки страниц настроек плагина

= 1.6.12 =
* Откатил минимальную версию PHP до 5.6.38

= 1.6.11 =
* Исправлены подсказки

= 1.6.10 =
* Изменения в коде для аддона CRB

= 1.6.9 =
* Попытка исправить конфликты с другими версиями plugins updater

= 1.6.8 =
* Поддержка различных размеров превью картинок для {imagesrc} (CRB)

= 1.6.7 =
* Исправлен баг, из-за которого перестал работать аддон CRB
* Расширен список предлагаемых стоп-слов после реиндексации (~до 35)
* Добавлены подтверждающие промпты при нажатии кнопок "Удалить все стоп-слова"/"Вернуть стандартные"

= 1.6.6 =
* добавлены кнопки для быстрого добавления в стоп слова из подсказок (после добавления слов потребуется реиндексация)
* в качестве доноров подсказок можно использовать часто встречающиеся слова из текста статьи
* убрана опция "Использовать Тайтл вместо Н1", теперь оба поля учитываются алгоритмом по умолчанию
* справа от подсказок добавлен процент для обозначения позиции в документе
* исправлен баг с выбором последней категории в панели перелинковки
* исправлен фокус редактора при поиске подказок (окончательно)
* поддержка переменных в сниппетах Yoast'а (в панели перелинковки вместо %%title%% и пр. будет выведен нормальный текст)
* небольшая оптимизация кода, может положительно сказаться на скорости индексирования
* дополнительно: проверена совместимость с TinyMCE Advanced (проблем не обнаружено)
* мелкие фиксы

= 1.6.5 =
* переезд кода на гитхаб, обновления будут приходить оттуда, как следствие - появится ченжлог в превью обновления в админке

= 1.6.4 =
* фикс фокуса редактора, проблема с подсказками

= 1.6.3 =
* фикс кривых кодировок после стемминга, поэтому не работала вставка в бд
* фикс импорта настроек

= 1.6.2 =
* fix ajax request

= 1.6.1 =
* fix output_tags > title filter, добавлен аргумент post-id

= 1.6.0 =
* обновлен редактор стоп-слов, они теперь хранятся в отдельной таблице БД
* кроме черного списка стоп-слов, теперь есть белый список
* списки стоп-слов и минимальная длина слова теперь учитываются везде одинаково (тайтл, контент, подсказки)
* преобразование старого формата стоп-слов в новый (это автоматом, ничего делать не надо)
* после реиндексации выводятся самые часто-используемые слова, которые сразу можно закинуть в черный список
* стемминг слов (выделение основы) для улучшения релевантности
* поиск подсказок немного улучшен (должно быть меньше неадекватного мусора и больше релевантных слов/фраз)
* возможность отключить однословные подсказки анкоров
* у каждой ссылки в панели перелинковки добавлена статистика (входищих/исходящих ссылок на статью)
* обновлена всплывашка статистики ссылок по редактируемой статье (размеры, прокрутка, активные ссылки)
* обновлены некоторые иконки (img вместо unicode, для поддержки win7)
* curl больше не требуется для работы плагина (доп. проверка через wp_remote_post)
* в гутенберге выведена заглушка с панелью, но без основного функционала (пока не реализуемо...)
* добавлена поддержка аддона CherryLink Related Block

= 1.5.2 =
* фикс статистики (префиксы таблиц)
* подготовка к апдейту

= 1.5.1 =
* фикс при обращении к API (/wp/v2/posts/, 500)

= 1.5.0 =
* искать для превью featured img
* не считать ссылки с #
* поправить фильтр по категориям (учитывать подкатегории, многоуровневая верстка)
* вставлять выделенное слово в быстрый фильтр (опционально)
* улучшить стату исходящих ссылок в редакторе (всплавашка, по аналогии с входящими)
* список анкоров-подсказок представить в более удобном виде
* доп кнопка вставки ссылки вокруг выделения прямо с панели подсказок
* обновлен шаблон ссылок альтернативный (+кнопка восстановить шаблоны)
* возврат кнопки пересоздания csv при изменении галочек
* другие мелкие доработки и исправления

= 1.4.9 =
* изменения из 1.4.8а
* быстрый фильтр категории
* в экспорте добавлено поле данных "Рубрики" для источника
* немного прибрал настройки, вынес пояснения во всплывашки
* унифицировать панель перелинковки, избавиться от метабокса
* баг с редиректом при реиндексации, если не вставлен ключ
* импорт настроек: сохранение/загрузка файла

= 1.4.8a =
* добавленая опция вставки относительных ссылок (без протокола, без домена)

= 1.4.5 =
* fix pages without editor, term hierarchy bug

= 1.4.4 =
* fix custom taxonomy

= 1.4.3 =
* custom stopwords optimization

= 1.4.2 =
* fix stopwords lowercase

= 1.4.1 =
* fix uninstall
* fix optimizations

= 1.4.0 =
* Исправление ошибок
* Оптимизация реиндексации
* Исправление утечек памяти
* Динамическая загрузка релевантных ссылок
* Перенесены некоторые настройки в отдельный пункт "Релевантность"
* Добавлено отображение прогресса реиндексации (временно отключено)
* Отключена реиндексация по умолчанию при обновлении плагина
* Добавлена опция вставки ссылки с пустым анкором для простого шаблона
* Сделан возврат после подсказок в то же место списка ссылок
* Добавлена опция вывода всех статей, а не только релевантных
* Альтернативный шаблон для рубрик
* Добавлен экспорт ссылок в CSV (данные в таблице wp_linkate_scheme)
* Кол-во входящих ссылок на панели перелинковки
* Выведен инфо сайдбар в админке
* Немного увеличены шрифты на панели перелинковки

= 1.3.06 =
* Исправление ошибок

= 1.3.05 =
* Опциональная чистка подсказок от стоп-слов

= 1.3.04 =
* Кол-во ключевых слов в настройках

= 1.3.03 =
* Фильтр только против тайтла(односторонний)

= 1.3.02 =
* Фильтр тайтла стоп-словами

= 1.3.01 =
* Мелкие фиксы, выход обновления в паблик

= 1.3.0 =
* Добавлен поиск подсказок (анкоров)
* Исправлен баг шаблона вставки таксономий
* Для OSX добавлена комбинация CMD+Click (аналог CTRL+Click) для альтернативного шаблона

= 1.2.13 =
* Служебная версия

= 1.2.12 =
* Фикс при обновлении меню

= 1.2.11 =
* Фикс: не показывать ссылку на себя

= 1.2.10 =
* Произвольные типы записей доступны для перелинковки (см. раздел фильтрация)

= 1.2.01 =
* Фиксы

= 1.2.0 =
* Поддержжка рубрик, в том числе плагинов f-cattxt, описания от yoast и т.д.
* Алгоритм учитывает описания и тайтлы из рубрик для подбора статей

= 1.1.19 =
* Фикс кодировки в шаблоне ссылки
* Новые теги {imagesrc} {anons}

= 1.1.17 =
* Мелкие фиксы

= 1.1.16 =
* Быстрая вставка анкора-тайтла (заголовка) при нажатии CTRL+Click
* Мелкие фиксы

= 1.1.15 =
* Обновлена библиотека для автоматического обновления плагина

= 1.1.14 =
* Вернулась обратная совместимость с версиями WP < 4.9.6
* Фикс для поддержки PHP 5.3
* В алго релевантности теперь можно использовать сео тайтл

= 1.1.13 =
* Фикс фикса для обновления 4.9.6 (возврат к истокам, спасибо разработчикам WP/TinyMCE за волшебный апдейт)

= 1.1.12 =
* Фикс для обновления 4.9.6 (изменен способ загрузки скрипта, перенесен в плагины tinymce)

= 1.1.11 =
* Исправлен редактор в страницах
* Добавлена проверка наличия curl библиотеки
* Реиндексация ссылок при установке плагина исправлена

= 1.1.9 =
* Исправлено: переход к ссылки таксономии в тексте
* Обновлены наименования переменных и функций, минимизируем конфликты

= 1.1.8 =
* Небольшие исправления и оптимизации (задержка обращений к серверу, буква Ё в фильтре)

= 1.1.3 =
* Добавлена возможность вставки одной и той же ссылки несколько раз
* Добавлен экспорт настроек, и сброс на дефолтные значения
* Исправлена проблема с members, теперь ссылки считаются только из редактора с id=content (будет переделано с поддержкой f-seo и yoast позже)
* Добавлена возможность открыть настройки плагина для разных ролей пользователей (через плагин user role editor)

= 1.1.2 =
* Мелкие фиксы

= 1.1.1 =
* Добавлен выбор минимальной длины слов, которые не учитываются алгоритмом схожести
* Мелкие фиксы

= 1.1.0 =
* Добавлены категории, метки и произвольная таксономия для перелинковки.
* Добавлено поле "стоп-слова" в настройках алгоритма схожести.
* Расширен базовый список стоп-слов, которые не учитываются алгоритмом.
* Теперь можно скрыть\показать как вставленные ссылки, так и не вставленные (два отдельных чекбокса)
* Ссылки на документы, картинки и прочее медиа теперь не учитываются в подсчете (в нижней панеле количества ссылок)
* Изменена проверка лицензий - теперь нет необходимости явно сообщать мне свои домены :)
* Убрал из вариантов покупки безлимитную лицензию.
* Теперь максимальное количество активаций для 1 ключа равно 50. Кто купил безлимит, для вас будет доступно 70 активаций.


= 1.0.9 =
* Значительно улучшено быстродейстие и отклик на изменения, скорость фильтрации ссылок и т.д.
Мелкие фиксы

= 1.0.8 =
* Небольшие исправления

= 1.0.7 =
* Автообновление скриптов при обновлении плагина, чтобы не чистить кэш каждый раз

= 1.0.6 =
* Значительно улучшена производительность плагина (были проблемы на слабых машинах, если на сайте сотни статей), будут дополнительные улучшения в будущем
* Добавлен фильтр по "запланированным" записям (черновик с запланированным временем публикации)
* Исправлено: иногда ссылки не вставлялись, если отсутствовал какой-либо атрибут (автор, категория и тд.)

= 1.0.5 =
* Исправлен косяк на произвольных типах записей, теперь плагин не загружается, если на странице нет поля редактора
* Исправлены прыжки вверх при открытии/закрытии панели перелинковки
* Добавлена кнопка (крестик) для закрытия панели с ссылками
* Таблицы рубрик/авторов в настройках сделал по компактнее
* Панель ссылок теперь не лезет выше окна загрузки изображений (изменен z-index)

= 1.0.4 =
* Исправлен Warning str_repeat

== Upgrade Notice ==

= 1.6.19 = 
Оптимизации завезли! 
Внимание! После установки плагин может деактивироваться автоматически (изменились имена файлов). Возможно придется повторно активировать.

= 1.6.6 =
Ура, вышла новая версия!